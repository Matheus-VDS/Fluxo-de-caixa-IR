@using Microsoft.AspNetCore.Identity
@using FluxoCaixa.Application.ViewModel


@inject SignInManager<IdentityUser> SignInManager
<!-- Sidebar -->
<div class="sidebar">
    <!-- Título e navegação no topo -->
    <div class="sidebar-top">
        <a class="navbar-brand d-block text-center text-white mb-4" href="@Url.Action("Index", "Home")">FluxoCaixa</a>

        @if (SignInManager.IsSignedIn(User))
        {
            <!-- Links de navegação -->
            <div class="nav flex-column ms-3">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="@Url.Action("Index", "Home")">
                            Página Inicial
                            <span class="visually-hidden">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="@Url.Action("Index", "Usuarios")">
                            Voluntários
                            <span class="visually-hidden">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Atividades</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Financeiro</a>
                    </li>
                </ul>
            </div>
        }
    </div>

    <!-- Botões de autenticação na parte inferior -->
    <div class="sidebar-bottom">
        @if (SignInManager.IsSignedIn(User))
        {
            <div class="nav-item mb-3 ms-3">
                <form method="post" asp-controller="account" asp-action="logout">
                    <button type="submit" class="btn btn-primary">
                        Sair @User.Identity.Name
                    </button>
                </form>
            </div>
        }
        else
        {
            <div class="d-flex flex-column mb-3 ms-3 me-3">
                <a class="btn btn-black mb-2 btn-sm" asp-controller="account" asp-action="login">Entrar</a>
                <a class="btn btn-white btn-sm" asp-controller="account" asp-action="register">Criar conta</a>
            </div>
        }
    </div>
</div>

<style>
    .sidebar {
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
        width: 200px;
        background-color: #007bff;
        padding-top: 20px;
        display: flex;
        flex-direction: column;
    }

    .sidebar-top {
        flex-grow: 1;
    }

    .sidebar-bottom {
        margin-top: auto;
    }

    .sidebar .navbar-brand {
        text-align: center;
        color: white;
    }

    .sidebar .nav-link {
        color: white !important;
    }

        .sidebar .nav-link:hover {
            color: #f8f9fa !important;
        }

    .nav {
        padding-left: 10px;
    }

    .content {
        margin-left: 220px;
        padding: 20px;
    }

    .btn-black {
        background-color: black;
        color: white;
        border: none;
    }

        .btn-black:hover {
            background-color: #333;
        }

    .btn-white {
        background-color: white;
        color: black;
        border: 1px solid #ccc;
    }

        .btn-white:hover {
            background-color: #f0f0f0;
        }

    .btn-sm {
        padding: 5px 10px;
        font-size: 1.0rem;
    }

    .ms-3 {
        margin-left: 15px;
    }

    .me-3 {
        margin-right: 15px;
    }
</style>